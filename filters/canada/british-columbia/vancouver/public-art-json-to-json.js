data = {
    "type": "FeatureCollection",
    "name": "Public__Art",
    "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
    "features": [
    { "type": "Feature", 
    "properties": 
        { "objectid": 4047, 
        "name": "Energy Loop",
        "artist": "Dirk Cruiser", 
        "ut_station": 0, 
        "image": "https://farm7.static.flickr.com/6190/6103304299_83a8fe4361.jpg", 
        "edit_date": "2019-01-23T11:28:43Z", 
        "edit_by": "christenmcnamara", 
        "location": "College St, N of Courthouse", 
        "type": "Sculpture", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.548485294137024, 35.596965900122918 ] } },
    { "type": "Feature", "properties": { "objectid": 4048, "name": "Pack Fountain", "artist": "Hoss Haley", "ut_station": 0, "image": "https://farm7.static.flickr.com/6190/6103850412_cdb2c2f2a2.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square", "type": "Fountain", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.551179957896295, 35.595142910307494 ] } },
    { "type": "Feature", "properties": { "objectid": 4049, "name": "Deco Gecko", "artist": "Harry McDaniel", "ut_station": 0, "image": "https://farm7.static.flickr.com/6199/6103303497_5a6688d6ab.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pritchard Park", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.554692164358514, 35.594561200436559 ] } },
    { "type": "Feature", "properties": { "objectid": 4050, "name": "Pergola", "artist": "Hoss Haley", "ut_station": 0, "image": "https://farm7.static.flickr.com/6199/6103850912_8983e62fa6.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square Park", "type": "Pergola", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.549036243186137, 35.59563137146084 ] } },
    { "type": "Feature", "properties": { "objectid": 4051, "name": "Relax", "artist": "Kathy Triplett", "ut_station": 0, "image": "https://farm7.static.flickr.com/6182/6127210626_ef03748d7c.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square Park", "type": "Relief", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.549036654894181, 35.595532625209742 ] } },
    { "type": "Feature", "properties": { "objectid": 4052, "name": "left of center", "artist": "Julia C. Burr", "ut_station": 0, "image": "https://farm7.static.flickr.com/6208/6103304113_037072f889.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Court Plaza, Pack SquarePark", "type": "Sculpture", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.550274866421063, 35.595316160117193 ] } },
    { "type": "Feature", "properties": { "objectid": 4053, "name": "Walk Into History", "artist": "", "ut_station": 1, "image": "https://farm7.static.flickr.com/6083/6127811406_ee6570b4ff.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.551496425959982, 35.594884620591984 ] } },
    { "type": "Feature", "properties": { "objectid": 4054, "name": "Crossroads", "artist": " ", "ut_station": 2, "image": "https://farm7.static.flickr.com/6075/6103305943_9c5ef428bb.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.551550089866069, 35.595010053855411 ] } },
    { "type": "Feature", "properties": { "objectid": 4055, "name": "Stepping Out", "artist": " ", "ut_station": 3, "image": "https://farm7.static.flickr.com/6201/6103851568_3161e112be.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of S Lexington and Patton", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.552763734016622, 35.59474417766409 ] } },
    { "type": "Feature", "properties": { "objectid": 4056, "name": "O'Henry", "artist": " ", "ut_station": 4, "image": "https://farm7.static.flickr.com/6191/6103851890_c9fc64b723.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Patton", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.55327082386188, 35.594672802325221 ] } },
    { "type": "Feature", "properties": { "objectid": 4057, "name": "Immortal Image", "artist": " ", "ut_station": 5, "image": "https://farm7.static.flickr.com/6201/6103854246_550a4ffbdd.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Patton and Church", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.553460206016737, 35.594611336695593 ] } },
    { "type": "Feature", "properties": { "objectid": 4058, "name": "Elizabeth Blackwell, M.D.", "artist": " ", "ut_station": 6, "image": "https://farm7.static.flickr.com/6191/6103852614_c825858172.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Patton", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.553400976493961, 35.594781574664154 ] } },
    { "type": "Feature", "properties": { "objectid": 4059, "name": "Flat Iron Architecture", "artist": " ", "ut_station": 8, "image": "https://farm7.static.flickr.com/6078/6103305365_aee5506962.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Wall St and Battery Park", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.554855025793415, 35.595169742205449 ] } },
    { "type": "Feature", "properties": { "objectid": 4060, "name": "Grove's Vision", "artist": " ", "ut_station": 10, "image": "https://farm7.static.flickr.com/6070/6103305273_eac64457b0.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Battery Park and Page", "type": "Monument", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.555994157692709, 35.595149478310567 ] } },
    { "type": "Feature", "properties": { "objectid": 4061, "name": "Appalachian Stage", "artist": " ", "ut_station": 13, "image": "https://farm7.static.flickr.com/6210/6103306839_aac20a7b93.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Haywood, Civic Center", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.555672983671258, 35.597152619655198 ] } },
    { "type": "Feature", "properties": { "objectid": 4062, "name": "Civic Pride", "artist": " ", "ut_station": 22, "image": "https://farm7.static.flickr.com/6085/6103306027_78595aa98a.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Market and College", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.550780399552679, 35.595839865846038 ] } },
    { "type": "Feature", "properties": { "objectid": 4063, "name": "On the Move", "artist": " ", "ut_station": 21, "image": "https://farm7.static.flickr.com/6090/6103307525_1b43cfacaa.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Walnut and N Market", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.551100286895931, 35.596941626260808 ] } },
    { "type": "Feature", "properties": { "objectid": 4064, "name": "Curtain Calls", "artist": " ", "ut_station": 20, "image": "https://farm7.static.flickr.com/6207/6103852902_6edd3148d1.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Walnut St", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.550604968408763, 35.59708928690344 ] } },
    { "type": "Feature", "properties": { "objectid": 4065, "name": "Wolfe's Neighborhood", "artist": " ", "ut_station": 18, "image": "https://farm7.static.flickr.com/6084/6103307699_2e37e2005e.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Woodfin and N Market St", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.551552743950722, 35.598431504052968 ] } },
    { "type": "Feature", "properties": { "objectid": 4066, "name": "Legacy of Design", "artist": " ", "ut_station": 16, "image": "https://farm7.static.flickr.com/6062/6103854394_6a33a337f1.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Broadway St", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.552307193735004, 35.597163105451472 ] } },
    { "type": "Feature", "properties": { "objectid": 4067, "name": "The Block", "artist": " ", "ut_station": 29, "image": "https://farm7.static.flickr.com/6072/6103304457_4ebc969638.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "N Market St", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.55034346205781, 35.594353055940246 ] } },
    { "type": "Feature", "properties": { "objectid": 4068, "name": "Marketplace", "artist": " ", "ut_station": 15, "image": "https://farm7.static.flickr.com/6080/6103307439_5d7dbaebfd.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Walnut and N Lexington", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.55297717081713, 35.59641469830499 ] } },
    { "type": "Feature", "properties": { "objectid": 4069, "name": "Dixieland", "artist": " ", "ut_station": 19, "image": "https://farm7.static.flickr.com/6076/6103852784_535280d0ae.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Thomas Wolfe Memorial", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.550613817287527, 35.597693310458247 ] } },
    { "type": "Feature", "properties": { "objectid": 4070, "name": "Woodfin House", "artist": " ", "ut_station": 17, "image": "https://farm7.static.flickr.com/6081/6103854688_5a51148f42.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Woodfin and Broadway", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.552495757667216, 35.59821325432268 ] } },
    { "type": "Feature", "properties": { "objectid": 4071, "name": "Shopping Daze", "artist": " ", "ut_station": 14, "image": "https://farm7.static.flickr.com/6076/6103304671_d23bd2e675.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Haywood and Walnut", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.554891329892158, 35.596099370696066 ] } },
    { "type": "Feature", "properties": { "objectid": 4072, "name": "Historic Hilltop", "artist": " ", "ut_station": 11, "image": "https://farm7.static.flickr.com/6183/6103853972_946e3872f9.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Page Ave", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.556262750269283, 35.596139009688891 ] } },
    { "type": "Feature", "properties": { "objectid": 4073, "name": "Cat Walk", "artist": " ", "ut_station": 9, "image": "https://farm7.static.flickr.com/6182/6103306237_d01952cc66.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Wall St", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.556126172896441, 35.594538171067995 ] } },
    { "type": "Feature", "properties": { "objectid": 4074, "name": "Gustavino's Monument", "artist": " ", "ut_station": 12, "image": "https://farm7.static.flickr.com/6200/6127371018_c62bf517d7.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Flint and Haywood", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.555953608204121, 35.596939049929993 ] } },
    { "type": "Feature", "properties": { "objectid": 4075, "name": "Past and Promise", "artist": " ", "ut_station": 26, "image": "https://farm7.static.flickr.com/6074/6103851766_e2ff26b58d.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of S Pack Sq and Market", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.550648231505917, 35.595309554530253 ] } },
    { "type": "Feature", "properties": { "objectid": 4076, "name": "Brick Artisan", "artist": " ", "ut_station": 28, "image": "https://farm7.static.flickr.com/6077/6103853426_d8be093f47.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "N Market St", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.550443657706097, 35.594783850480262 ] } },
    { "type": "Feature", "properties": { "objectid": 4077, "name": "Monument Corner", "artist": " ", "ut_station": 27, "image": "https://farm7.static.flickr.com/6090/6103305057_6d93036d12.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Pack Sq and Market", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.55058723957417, 35.595115294471903 ] } },
    { "type": "Feature", "properties": { "objectid": 4078, "name": "Hotel District", "artist": " ", "ut_station": 30, "image": "https://farm7.static.flickr.com/6204/6103854060_ac4e8d64e6.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Biltmore and Eagle", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.551230979886043, 35.593871158343717 ] } },
    { "type": "Feature", "properties": { "objectid": 4079, "name": "Ellington's Dream", "artist": " ", "ut_station": 25, "image": "https://farm7.static.flickr.com/6204/6103305501_bf28e612cc.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square Park", "type": "Sculpture", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.549901726172848, 35.595635063679488 ] } },
    { "type": "Feature", "properties": { "objectid": 4080, "name": "Time Remembered", "artist": " ", "ut_station": 24, "image": "https://farm7.static.flickr.com/6187/6127811174_338a156c79.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square Park", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.549911043327114, 35.595767557961892 ] } },
    { "type": "Feature", "properties": { "objectid": 4081, "name": "Man and Mountain", "artist": " ", "ut_station": 23, "image": "https://farm7.static.flickr.com/6200/6127811358_a2268ef210.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Pack Square Park", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.550170616336118, 35.59580550523345 ] } },
    { "type": "Feature", "properties": { "objectid": 4082, "name": "Art Deco Masterpiece", "artist": " ", "ut_station": 7, "image": "https://farm7.static.flickr.com/6185/6103853774_178c2e6eb2.jpg", "edit_date": "2019-01-23T11:28:43Z", "edit_by": "christenmcnamara", "location": "Corner of Patton and Haywood", "type": "Plaque", "urbantrail": "yes" }, "geometry": { "type": "Point", "coordinates": [ -82.554055706238387, 35.594885693012493 ] } },
    { "type": "Feature", "properties": { "objectid": 4083, "name": "Battery Park", "artist": " ", "ut_station": 0, "image": " ", "edit_date": "2013-09-05T08:49:00Z", "edit_by": "asheville\\davemichelson                                                                             ", "location": "OHenry Ave, Grove Arcade", "type": "Plaque", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.557080341948804, 35.595929555824121 ] } },
    { "type": "Feature", "properties": { "objectid": 4084, "name": "Passage, Albert Paley", "artist": " ", "ut_station": 0, "image": " ", "edit_date": "2013-09-05T08:52:00Z", "edit_by": "asheville\\davemichelson                                                                             ", "location": "Corner of Otis and Patton", "type": "Sculpture", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.557183224940474, 35.594146014438273 ] } },
    { "type": "Feature", "properties": { "objectid": 4085, "name": "Thomas Wolfe Memorial Angel", "artist": " ", "ut_station": 0, "image": " ", "edit_date": "2013-09-05T08:54:00Z", "edit_by": "asheville\\davemichelson                                                                             ", "location": "Pack Square", "type": "Sculpture", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.551222485873026, 35.594886163994516 ] } },
    { "type": "Feature", "properties": { "objectid": 4086, "name": "Vance monument", "artist": " ", "ut_station": 0, "image": " ", "edit_date": "2013-09-05T08:55:00Z", "edit_by": "asheville\\davemichelson                                                                             ", "location": "Pack Square", "type": "Monument", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.551477165598229, 35.595086232838611 ] } },
    { "type": "Feature", "properties": { "objectid": 4087, "name": "Veterans Memorial", "artist": " ", "ut_station": 0, "image": " ", "edit_date": "2013-09-05T08:56:00Z", "edit_by": "asheville\\davemichelson                                                                             ", "location": "College St, in front of Courthouse", "type": "Monument", "urbantrail": "no" }, "geometry": { "type": "Point", "coordinates": [ -82.549375696256135, 35.595937887323842 ] } }
    ]
    }
    
    
const filter = function (data, stringify) {
    if (typeof data === 'string' || data instanceof String) {
        data = JSON.parse(data);
    }
    
    let new_data = [];

    data.features.map(d => {
        let item = {};
        item.name = d.properties.name;
        if (item.name === undefined) {
            console.log(`Data name not found for art with url ${d.url}`);
        }
        let coordinates = { longitude: d.geometry.coordinates[0], latitude: d.geometry.coordinates[1] };
        if (coordinates.longitude === undefined || coordinates.latitude === undefined) {
            console.log(`Data coordinates not found for art with url ${d.url}`);
        }
        item.coordinates = coordinates;

        let details = {name: d.properties.name, artist: d.properties.artist, location: d.properties.location, type: d.properties.type, urbantrail: d.properties.urbantrail};
        item.details = details;
        
        new_data.push(item);
        
    })

    if (stringify) {
        return JSON.stringify(new_data, null);
    }

    return new_data;
}
// return filter;
console.log(filter(data))